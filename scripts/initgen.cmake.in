cmake_minimum_required(VERSION 2.8)

execute_process(
  COMMAND @PYTHON_EXECUTABLE@ @CMAKE_CURRENT_SOURCE_DIR@/initgen.py
  	${INITGEN_LIST_FILE}
    ${INITGEN_SOURCE_FILE}
  ERROR_VARIABLE PYTHON_ERRORS
  OUTPUT_VARIABLE PYTHON_OUTPUT
)

if(PYTHON_OUTPUT)
  message(${PYTHON_OUTPUT})
endif()
if(PYTHON_ERRORS)
  message(FATAL_ERROR ${PYTHON_ERRORS})
endif()